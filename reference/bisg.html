<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Bayesian Improved Surname Geocoding (BISG) — bisg • birdie</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Bayesian Improved Surname Geocoding (BISG) — bisg"><meta name="description" content="Calculates individual probabilities of belonging to racial groups given last
name, location, and other covariates (optional). The standard function
bisg() treats the input tables as fixed. An alternative function
bisg_me(), assumes that the input tables are subject to measurement error,
and uses a Gibbs sampler to impute the individual race probabilities, using
the model of Imai et al. (2022)."><meta property="og:description" content="Calculates individual probabilities of belonging to racial groups given last
name, location, and other covariates (optional). The standard function
bisg() treats the input tables as fixed. An alternative function
bisg_me(), assumes that the input tables are subject to measurement error,
and uses a Gibbs sampler to impute the individual race probabilities, using
the model of Imai et al. (2022)."><meta property="og:image" content="http://corymccartan.com/birdie/logo.png"><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-2KH5JZ6JS1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-2KH5JZ6JS1');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">birdie</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/birdie.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/CoryMcCartan/birdie/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Bayesian Improved Surname Geocoding (BISG)</h1>
      <small class="dont-index">Source: <a href="https://github.com/CoryMcCartan/birdie/blob/main/R/bisg.R" class="external-link"><code>R/bisg.R</code></a>, <a href="https://github.com/CoryMcCartan/birdie/blob/main/R/generics.R" class="external-link"><code>R/generics.R</code></a></small>
      <div class="d-none name"><code>bisg.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculates individual probabilities of belonging to racial groups given last
name, location, and other covariates (optional). The standard function
<code>bisg()</code> treats the input tables as fixed. An alternative function
<code>bisg_me()</code>, assumes that the input tables are subject to measurement error,
and uses a Gibbs sampler to impute the individual race probabilities, using
the model of Imai et al. (2022).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">bisg</span><span class="op">(</span></span>
<span>  <span class="va">formula</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  p_r <span class="op">=</span> <span class="fu"><a href="p_r_natl.html">p_r_natl</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  p_rgx <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  p_rs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  save_rgx <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  save_sr <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">bisg_me</span><span class="op">(</span></span>
<span>  <span class="va">formula</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  p_r <span class="op">=</span> <span class="fu"><a href="p_r_natl.html">p_r_natl</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  p_rgx <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  p_rs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  iter <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  warmup <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  cores <span class="op">=</span> <span class="fl">1L</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'bisg'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>, p_r <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'bisg'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">object</span>, adj <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'bisg'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/simulate.html" class="external-link">simulate</a></span><span class="op">(</span><span class="va">object</span>, nsim <span class="op">=</span> <span class="fl">1</span>, seed <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>A formula specifying the BISG model. Must include the special
term <code>nm()</code> to identify the surname variable. Certain geographic variables
can be identified similarly: <code><a href="https://rdrr.io/r/utils/zip.html" class="external-link">zip()</a></code> for ZIP codes, and <code>state()</code> for
states. If no other predictor variables are provided, then <code>bisg()</code> will
automatically be able to build a table of census data to use in inference.
If other predictor variables are included, or if other geographic
identifiers are used, then the user must specify the <code>p_rgx</code> argument below.
The left-hand side of the formula is ignored.
See the examples section below for sample formulas.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>The data frame containing the variables in <code>formula</code>.</p></dd>


<dt id="arg-p-r">p_r<a class="anchor" aria-label="anchor" href="#arg-p-r"></a></dt>
<dd><p>The prior distribution of race in the sample, as a numeric vector.
Defaults to U.S. demographics as provided by <code><a href="p_r_natl.html">p_r_natl()</a></code>.
Can also set <code>p_r="est"</code> or <code>"estimate"</code> to estimate this from the
geographic distribution.  Since the prior distribution on race strongly
affects the calibration of the BISG probabilities and thus the accuracy of
downstream estimates, users are encouraged to think carefully about an
appropriate value for <code>p_r</code>.  If no prior information on the racial makeup
of the sample is available, and yet the sample is very different from the
overall U.S. population, then <code>p_r="estimate"</code> will likely produce superior
results.</p></dd>


<dt id="arg-p-rgx">p_rgx<a class="anchor" aria-label="anchor" href="#arg-p-rgx"></a></dt>
<dd><p>The distribution of race given location (G) and other covariates
(X) specified in <code>formula</code>. Should be provided as a data frame, with columns
matching the predictors in <code>formula</code>, and additional columns for each
racial group containing the conditional probability for that racial group
given the predictors. For example, if Census tracts are the only predictors,
<code>p_rgx</code> should be a data frame with a tract column and columns <code>white</code>,
<code>black</code>, etc. containing the racial distribution of each tract.
If <code>formula</code> contains only labeled terms (like <code><a href="https://rdrr.io/r/utils/zip.html" class="external-link">zip()</a></code>), then by default
<code>p_rgx</code> will be constructed automatically from the most recent Census data.
This table will be normalized by row, so it can be provided as population
counts as well. Counts are required for <code>bisg_me()</code>.
The <code><a href="census_race_geo_table.html">census_race_geo_table()</a></code> function can be helpful to prepare tables,
as can be the <code>build_dec()</code> and <code>build_acs()</code> functions in the <code>censable</code>
package.</p></dd>


<dt id="arg-p-rs">p_rs<a class="anchor" aria-label="anchor" href="#arg-p-rs"></a></dt>
<dd><p>The distribution of race given last name. As with <code>p_rgx</code>, should
be provided as a data frame, with a column of names and additional columns
for each racial group. Users should not have to specify this argument in
most cases, as the table will be built from published Census surname tables
automatically. Counts are required for <code>bisg_me()</code>. One of the last names
can be <code>"&lt;generic&gt;"</code>, which, if included, will be used for any names not
found in the table.</p></dd>


<dt id="arg-save-rgx">save_rgx<a class="anchor" aria-label="anchor" href="#arg-save-rgx"></a></dt>
<dd><p>If <code>TRUE</code>, save the <code>p_rgx</code> table (matched to each
individual) as the <code>"p_rgx"</code> and <code>"gx"</code> attributes of the output.
Necessary for some sensitivity analyses.</p></dd>


<dt id="arg-save-sr">save_sr<a class="anchor" aria-label="anchor" href="#arg-save-sr"></a></dt>
<dd><p>If <code>TRUE</code>, save the <code>p_sr</code> table (surname given race; matched
to each individual as the <code>"p_sr"</code> and <code>"s"</code> attributes of the output.</p></dd>


<dt id="arg-iter">iter<a class="anchor" aria-label="anchor" href="#arg-iter"></a></dt>
<dd><p>How many sampling iterations in the Gibbs sampler</p></dd>


<dt id="arg-warmup">warmup<a class="anchor" aria-label="anchor" href="#arg-warmup"></a></dt>
<dd><p>How many burn-in iterations in the Gibbs sampler</p></dd>


<dt id="arg-cores">cores<a class="anchor" aria-label="anchor" href="#arg-cores"></a></dt>
<dd><p>How many parallel cores to use in computation. Around 4 seems to
be optimal, even if more are available.</p></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>An object of class <code>bisg</code>, the result of running <code>bisg()</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to generic methods (ignored).</p></dd>


<dt id="arg-adj">adj<a class="anchor" aria-label="anchor" href="#arg-adj"></a></dt>
<dd><p>A point in the simplex that describes how BISG probabilities
will be thresholded to produce point predictions. The probabilities are
divided by <code>adj</code>, then the racial category with the highest probability is
predicted. Can be used to trade off types of prediction error. Must be
nonnegative but will be normalized to sum to 1. The default is to make no
adjustment.</p></dd>


<dt id="arg-nsim">nsim<a class="anchor" aria-label="anchor" href="#arg-nsim"></a></dt>
<dd><p>The number of vectors to simulate. Defaults to 1.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>Used to seed the random number generator. See <code><a href="https://rdrr.io/r/stats/simulate.html" class="external-link">stats::simulate()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>bisg</code>, which is just a data frame with some
additional attributes. The data frame has rows matching the input data and
columns for the race probabilities.</p>
    </div>
    <div class="section level2">
    <h2 id="methods-by-generic-">Methods (by generic)<a class="anchor" aria-label="anchor" href="#methods-by-generic-"></a></h2>

<ul><li><p><code>summary(bisg)</code>: Summarize predicted race probabilities. Returns vector of individual entropies.</p></li>
<li><p><code>predict(bisg)</code>: Create point predictions of individual race. Returns factor
vector of individual race labels. Strongly not recommended for any kind of
inferential purpose, as biases may be extreme and in unpredictable
directions.</p></li>
<li><p><code>simulate(bisg)</code>: Simulate race from the <code>Pr(R | G, X, S)</code> distribution.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>

<ul><li><p><code>bisg()</code>: The standard BISG model.</p></li>
<li><p><code>bisg_me()</code>: The measurement error BISG model.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="surname-matching">Surname Matching<a class="anchor" aria-label="anchor" href="#surname-matching"></a></h2>
    <p>The Census surname table can be inspected with the following code:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"names_2010_counts.rds"</span>, package<span class="op">=</span><span class="st">"birdie"</span><span class="op">)</span><span class="op">)</span></span></code></pre><p></p></div>
<p>Surnames are processed with <code><a href="preproc.html">proc_name()</a></code> before being matched to the table.
The code also recognizes double-barrelled (hyphenated) surnames and attempts
to match each part if the overall name is not found in the surname table.
Specifying <code>save_rs=TRUE</code> will save the matched surname table and a lookup
vector that matches each individual to their surname table row. The overall
match rate is reported as part of the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> output.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Elliott, M. N., Fremont, A., Morrison, P. A., Pantoja, P., and Lurie, N.
(2008). A new method for estimating race/ethnicity and associated disparities
where administrative records lack self-reported race/ethnicity. <em>Health
Services Research</em>, 43(5p1):1722–1736.</p>
<p>Fiscella, K. and Fremont, A. M. (2006). Use of geocoding and surname analysis
to estimate race and ethnicity. <em>Health Services Research</em>,
41(4p1):1482–1500.</p>
<p>Imai, K., Olivella, S., &amp; Rosenman, E. T. (2022). Addressing census data
problems in race imputation via fully Bayesian Improved Surname Geocoding and
name supplements. <em>Science Advances</em>, 8(49), eadc9824.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">pseudo_vf</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">bisg</span><span class="op">(</span><span class="op">~</span> <span class="fu">nm</span><span class="op">(</span><span class="va">last_name</span><span class="op">)</span>, data<span class="op">=</span><span class="va">pseudo_vf</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 5,000 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    pr_white pr_black pr_hisp pr_asian pr_aian pr_other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>    0.826  0.070<span style="text-decoration: underline;">1</span>   0.030<span style="text-decoration: underline;">5</span>  0.003<span style="text-decoration: underline;">53</span> 0.020<span style="text-decoration: underline;">8</span>    0.049<span style="text-decoration: underline;">1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>    0.362  0.547    0.029<span style="text-decoration: underline;">8</span>  0.003<span style="text-decoration: underline;">15</span> 0.004<span style="text-decoration: underline;">54</span>   0.053<span style="text-decoration: underline;">3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>    0.918  0.008<span style="text-decoration: underline;">87</span>  0.039<span style="text-decoration: underline;">7</span>  0.006<span style="text-decoration: underline;">97</span> 0.002<span style="text-decoration: underline;">23</span>   0.024<span style="text-decoration: underline;">0</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>    0.620  0.293    0.031<span style="text-decoration: underline;">7</span>  0.003<span style="text-decoration: underline;">79</span> 0.005<span style="text-decoration: underline;">45</span>   0.046<span style="text-decoration: underline;">0</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>    0.892  0.023<span style="text-decoration: underline;">7</span>   0.041<span style="text-decoration: underline;">3</span>  0.008<span style="text-decoration: underline;">31</span> 0.002<span style="text-decoration: underline;">95</span>   0.032<span style="text-decoration: underline;">2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>    0.844  0.079<span style="text-decoration: underline;">0</span>   0.030<span style="text-decoration: underline;">9</span>  0.003<span style="text-decoration: underline;">84</span> 0.005<span style="text-decoration: underline;">42</span>   0.037<span style="text-decoration: underline;">0</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>    0.491  0.419    0.029<span style="text-decoration: underline;">7</span>  0.003<span style="text-decoration: underline;">90</span> 0.005<span style="text-decoration: underline;">48</span>   0.051<span style="text-decoration: underline;">2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>    0.982  0.005<span style="text-decoration: underline;">74</span>  0.012<span style="text-decoration: underline;">0</span>  0       0         0     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>    0.713  0.194    0.031<span style="text-decoration: underline;">9</span>  0.004<span style="text-decoration: underline;">22</span> 0.006<span style="text-decoration: underline;">95</span>   0.049<span style="text-decoration: underline;">7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>    0.593  0.337    0.026<span style="text-decoration: underline;">2</span>  0.002<span style="text-decoration: underline;">78</span> 0.004<span style="text-decoration: underline;">06</span>   0.036<span style="text-decoration: underline;">8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 4,990 more rows</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">r_probs</span> <span class="op">=</span> <span class="fu">bisg</span><span class="op">(</span><span class="op">~</span> <span class="fu">nm</span><span class="op">(</span><span class="va">last_name</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/utils/zip.html" class="external-link">zip</a></span><span class="op">(</span><span class="va">zip</span><span class="op">)</span>, data<span class="op">=</span><span class="va">pseudo_vf</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">r_probs</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">BISG</span> individual race probabilities</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Unmatched surnames: 246 (4.92%)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Unmatched geographies/covariates: 687 (13.7%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Implied marginal race distribution:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> pr_white pr_black  pr_hisp pr_asian  pr_aian pr_other </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    0.641    0.215    0.074    0.020    0.007    0.043 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Entropy decrease from marginal distribution:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -0.5137  0.1193  0.3315  0.3665  0.6386  1.0563 </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">r_probs</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] white black white white white white</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: white black hisp asian aian other</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">pseudo_vf</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">bisg_me</span><span class="op">(</span><span class="op">~</span> <span class="fu">nm</span><span class="op">(</span><span class="va">last_name</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/utils/zip.html" class="external-link">zip</a></span><span class="op">(</span><span class="va">zip</span><span class="op">)</span>, data<span class="op">=</span><span class="va">pseudo_vf</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 5,000 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    pr_white pr_black pr_hisp pr_asian pr_aian pr_other</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>    0.963   0.005   0.004     0.001   0.016   0.011 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>    0.205   0.772   0.009     0       0.001   0.013 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>    0.977   0.001   0.01      0.006   0       0.006 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>    0.649   0.314   0.015     0       0.002   0.020<span style="text-decoration: underline;">0</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>    0.994   0.001   0.002     0.001   0.001   0.001 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>    0.640   0.281   0.037<span style="text-decoration: underline;">0</span>    0.011   0.005   0.026<span style="text-decoration: underline;">0</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>    0.180   0.747   0.030<span style="text-decoration: underline;">0</span>    0.005   0.001   0.037<span style="text-decoration: underline;">0</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>    0.985   0.002   0.013     0       0       0     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>    0.799   0.175   0.006     0       0.004   0.016 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>    0.911   0.075<span style="text-decoration: underline;">0</span>  0.005     0       0.002   0.007 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 4,990 more rows</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cory McCartan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

