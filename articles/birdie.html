<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="birdie">
<title>Estimation of Racial Disparities When Race is Not Observed • birdie</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimation of Racial Disparities When Race is Not Observed">
<meta property="og:description" content="birdie">
<meta property="og:image" content="http://corymccartan.com/birdie/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-2KH5JZ6JS1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-2KH5JZ6JS1');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">birdie</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/birdie.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/CoryMcCartan/birdie/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Estimation of Racial Disparities When Race is Not Observed</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/CoryMcCartan/birdie/blob/HEAD/vignettes/birdie.Rmd" class="external-link"><code>vignettes/birdie.Rmd</code></a></small>
      <div class="d-none name"><code>birdie.Rmd</code></div>
    </div>

    
    
<p>This document will walk you through how to use <code>birdie</code>.
First, load in the package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/CoryMcCartan/birdie" class="external-link">birdie</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<p>For a concrete example, we’ll use some fake voter file data. Our goal
is to estimate turnout rates by race.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">pseudo_vf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">pseudo_vf</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5,000 × 4</span></span></span>
<span><span class="co">#&gt;    last_name zip   race  turnout</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> BEAVER    28748 white yes    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> WILLIAMS  28144 black no     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> ROSEN     28270 white yes    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> SMITH     28677 black yes    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> FAY       28748 white no     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> CHURCH    28215 white yes    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> JOHNSON   28212 black yes    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> SZCZYGIEL <span style="color: #BB0000;">NA</span>    white yes    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> SUMMERS   28152 black yes    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> STARLING  28650 white yes    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 4,990 more rows</span></span></span></code></pre></div>
<p>You’ll notice that we have a <code>race</code> column in our data.
That will allow us to check our work once we’re done. For now, we’ll
generate the <em>true</em> distribution of turnout given race, along
with the marginal distribution of each variable.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_xr</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">pseudo_vf</span><span class="op">$</span><span class="va">turnout</span>, <span class="va">pseudo_vf</span><span class="op">$</span><span class="va">race</span><span class="op">)</span>, margin<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">p_x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">pseudo_vf</span><span class="op">$</span><span class="va">turnout</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">p_r</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">pseudo_vf</span><span class="op">$</span><span class="va">race</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>There are two steps to applying the <code>birdie</code>
methodology:</p>
<ol style="list-style-type: decimal">
<li>Generate a first set of individual race probabilities using Bayesian
Improved Surname Geocoding (<code><a href="../reference/bisg.html">bisg()</a></code>).</li>
<li>For a specific outcome variable of interest, run a Bayesian
Instrumental Regression for Disparity Estimation (<code><a href="../reference/birdie.html">birdie()</a></code>)
model to come up with estimated probabilities conditional on race.</li>
</ol>
<div class="section level2">
<h2 id="generating-bisg-probabilities">Generating BISG probabilities<a class="anchor" aria-label="anchor" href="#generating-bisg-probabilities"></a>
</h2>
<p>For the first step, you can use any BISG software, including the <a href="https://cran.r-project.org/package=wru" class="external-link"><code>wru</code> R
package</a>. However, <code>birdie</code> provides its own
<code><a href="../reference/bisg.html">bisg()</a></code> function to make this easy and very computationally
efficient. To use <code><a href="../reference/bisg.html">bisg()</a></code>, you provide a formula that labels
the predictors used. You use <code>nm()</code> to show which variable
contains last names, which must always be provided. ZIP codes and states
can be labeled with <code><a href="https://rdrr.io/r/utils/zip.html" class="external-link">zip()</a></code> and <code>state()</code>. Other
types of geographies can be used as well—just read the documentation for
<code><a href="../reference/bisg.html">bisg()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_probs</span> <span class="op">=</span> <span class="fu"><a href="../reference/bisg.html">bisg</a></span><span class="op">(</span><span class="op">~</span> <span class="fu">nm</span><span class="op">(</span><span class="va">last_name</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/utils/zip.html" class="external-link">zip</a></span><span class="op">(</span><span class="va">zip</span><span class="op">)</span>, data<span class="op">=</span><span class="va">pseudo_vf</span>, p_r<span class="op">=</span><span class="va">p_r</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">r_probs</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5,000 × 6</span></span></span>
<span><span class="co">#&gt;    pr_white pr_black  pr_hisp pr_asian  pr_aian pr_other</span></span>
<span><span class="co">#&gt;       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>    0.971  0.005<span style="text-decoration: underline;">17</span> 0.002<span style="text-decoration: underline;">01</span>  0.000<span style="text-decoration: underline;">144</span> 0.013<span style="text-decoration: underline;">6</span>    0.008<span style="text-decoration: underline;">19</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>    0.128  0.860   0.001<span style="text-decoration: underline;">86</span>  0.000<span style="text-decoration: underline;">169</span> 0.001<span style="text-decoration: underline;">04</span>   0.009<span style="text-decoration: underline;">20</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>    0.979  0.005<span style="text-decoration: underline;">39</span> 0.004<span style="text-decoration: underline;">36</span>  0.002<span style="text-decoration: underline;">32</span>  0.000<span style="text-decoration: underline;">606</span>  0.008<span style="text-decoration: underline;">37</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>    0.521  0.459   0.005<span style="text-decoration: underline;">35</span>  0.000<span style="text-decoration: underline;">219</span> 0.001<span style="text-decoration: underline;">50</span>   0.012<span style="text-decoration: underline;">4</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>    0.989  0.001<span style="text-decoration: underline;">65</span> 0.002<span style="text-decoration: underline;">57</span>  0.000<span style="text-decoration: underline;">319</span> 0.001<span style="text-decoration: underline;">82</span>   0.005<span style="text-decoration: underline;">06</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>    0.522  0.431   0.017<span style="text-decoration: underline;">5</span>   0.001<span style="text-decoration: underline;">25</span>  0.003<span style="text-decoration: underline;">84</span>   0.024<span style="text-decoration: underline;">2</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>    0.112  0.859   0.011<span style="text-decoration: underline;">3</span>   0.000<span style="text-decoration: underline;">720</span> 0.001<span style="text-decoration: underline;">90</span>   0.015<span style="text-decoration: underline;">3</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>    0.991  0.007<span style="text-decoration: underline;">94</span> 0.000<span style="text-decoration: underline;">766</span> 0        0         0      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>    0.701  0.283   0.001<span style="text-decoration: underline;">83</span>  0.000<span style="text-decoration: underline;">160</span> 0.001<span style="text-decoration: underline;">36</span>   0.012<span style="text-decoration: underline;">2</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    0.854  0.133   0.002<span style="text-decoration: underline;">65</span>  0.000<span style="text-decoration: underline;">204</span> 0.002<span style="text-decoration: underline;">41</span>   0.008<span style="text-decoration: underline;">45</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 4,990 more rows</span></span></span></code></pre></div>
<p>Each row <code>r_probs</code> matches a row in
<code>pseudo_vf</code>. <strong>It’s important to note that here we are
assuming that we know the overall racial distribution of our
population</strong> (registered voters). Because of that, we provide the
<code>p_r=p_r</code> argument, which gives <code><a href="../reference/bisg.html">bisg()</a></code> the
overall racial distribution. If you don’t know the overall racial
distribution in your context (even a guess is better than nothing), then
you could pass in something like the national distribution of race
(which is conveniently provided by <code><a href="../reference/p_r_natl.html">p_r_natl()</a></code>).</p>
<div class="section level3">
<h3 id="alternative-race-probabilities">Alternative race probabilities<a class="anchor" aria-label="anchor" href="#alternative-race-probabilities"></a>
</h3>
<p>Rather than predicting individual race with the standard BISG
methodology, you may want to use the improved fully Bayesian Surname
Improved Geocoding (fBISG) of <a href="https://doi.org/10.1126/sciadv.adc9824" class="external-link">Imai et al. (2022)</a>.
Compared to standard BISG, fBISG accounts for some of the measurement
error in the Census counts. This improves the calibration of the
probabilities (which is important for accurate disparity estimation),
and also improves accuracy among minority populations.</p>
<p>To generate fBISG probabilities, <code>birdie</code> provides the
<code><a href="../reference/bisg.html">bisg_me()</a></code> function, which works just like
<code><a href="../reference/bisg.html">bisg()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_probs_me</span> <span class="op">=</span> <span class="fu"><a href="../reference/bisg.html">bisg_me</a></span><span class="op">(</span><span class="op">~</span> <span class="fu">nm</span><span class="op">(</span><span class="va">last_name</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/utils/zip.html" class="external-link">zip</a></span><span class="op">(</span><span class="va">zip</span><span class="op">)</span>, data<span class="op">=</span><span class="va">pseudo_vf</span>, p_r<span class="op">=</span><span class="va">p_r</span>, iter<span class="op">=</span><span class="fl">2000</span><span class="op">)</span></span></code></pre></div>
<p>Comparing to the standard BISG probabilities, the
measurement-error-adjusted probabilities are often more calibrated. One
way to see this is to estimate the marginal distribution of race from
the probabilities.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colMeans</a></span><span class="op">(</span><span class="va">r_probs</span><span class="op">)</span></span>
<span><span class="co">#&gt;    pr_white    pr_black     pr_hisp    pr_asian     pr_aian    pr_other </span></span>
<span><span class="co">#&gt; 0.656372686 0.277807934 0.032031532 0.010139008 0.009564482 0.014084358</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colMeans</a></span><span class="op">(</span><span class="va">r_probs_me</span><span class="op">)</span></span>
<span><span class="co">#&gt;  pr_white  pr_black   pr_hisp  pr_asian   pr_aian  pr_other </span></span>
<span><span class="co">#&gt; 0.7090338 0.2001999 0.0432930 0.0185635 0.0118667 0.0170431</span></span>
<span><span class="co"># actual </span></span>
<span><span class="va">p_r</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  white  black   hisp  asian   aian  other </span></span>
<span><span class="co">#&gt; 0.7178 0.2078 0.0338 0.0114 0.0102 0.0190</span></span></code></pre></div>
<p>The fBISG probabilities are much closer to the actual distribution of
race in the data than the standard BISG probabilities are.</p>
</div>
<div class="section level3">
<h3 id="why-arent-bisg-probabilities-enough">Why aren’t BISG probabilities enough?<a class="anchor" aria-label="anchor" href="#why-arent-bisg-probabilities-enough"></a>
</h3>
<p>At this point, many analyses stop. One can threshold the BISG
probabilities to produce a single racial prediction for every
individual. Or one can use the BISG probabilities inside weighted
averages and weighted regressions.</p>
<p>For example, we could try to estimate turnout rates by race, using
the BISG probabilities as weights:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/est_weighted.html">est_weighted</a></span><span class="op">(</span><span class="va">r_probs</span>, <span class="va">turnout</span> <span class="op">~</span> <span class="fl">1</span>, data<span class="op">=</span><span class="va">pseudo_vf</span><span class="op">)</span></span>
<span><span class="co">#&gt; Weighted estimator</span></span>
<span><span class="co">#&gt; Formula: turnout ~ 1</span></span>
<span><span class="co">#&gt;    Data: pseudo_vf</span></span>
<span><span class="co">#&gt; Number of obs: 5,000; groups: 1</span></span>
<span><span class="co">#&gt; Estimated distribution:</span></span>
<span><span class="co">#&gt;     white black  hisp asian  aian other</span></span>
<span><span class="co">#&gt; no  0.316 0.335 0.385 0.531 0.502 0.341</span></span>
<span><span class="co">#&gt; yes 0.684 0.665 0.615 0.469 0.498 0.659</span></span></code></pre></div>
<p>However, as discussed in the methodology paper (<a href="https://arxiv.org/abs/2303.02580" class="external-link">McCartan et al. 2023</a>),
<strong>this approach is generally biased</strong>. Essentially, it only
measures the part of the association between race and turnout that is
mediated through names and locations. It doesn’t properly account for
other ways in which race could be associated with the outcome. The
BIRDiE methodology addresses this problem by relying on <strong>a
different assumption: that names are independent of outcomes (here,
turnout) conditional on location and race.</strong> For example, among
White voters in a particular ZIP code, this assumption would mean that
voters name Smith and those named Jones are both equally likely to
vote.</p>
</div>
</div>
<div class="section level2">
<h2 id="estimating-distributions-by-race">Estimating distributions by race<a class="anchor" aria-label="anchor" href="#estimating-distributions-by-race"></a>
</h2>
<p>We’re now ready to estimate turnout by race. For this we’ll use the
<code><a href="../reference/birdie.html">birdie()</a></code> function, and provide it with a formula describing
our BIRDiE model, including our variable of interest
<code>turnout</code> and our geography variable <code>zip</code>. We
provide <code>family=cat_mixed()</code> to indicate that we want to fit
a Categorical mixed-effects regression model for turnout. Here, we wrap
<code>zip</code> in the <code><a href="../reference/preproc.html">proc_zip()</a></code> function, which, among
other things, recodes missing ZIP codes as “Other” so that the model
doesn’t encounter any missing data. The first argument to
<code><a href="../reference/birdie.html">birdie()</a></code> is <code>r_probs</code>, the racial probabilities.
<code>birdie</code> knows how to handle its columns of because they came
from this package. If you use a different package, the columns may be
named differently. The <code>prefix</code> parameter to
<code><a href="../reference/birdie.html">birdie()</a></code> lets you specify the naming convention for your
probabilities.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit</span> <span class="op">=</span> <span class="fu"><a href="../reference/birdie.html">birdie</a></span><span class="op">(</span><span class="va">r_probs</span>, <span class="va">turnout</span> <span class="op">~</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="fu"><a href="../reference/preproc.html">proc_zip</a></span><span class="op">(</span><span class="va">zip</span><span class="op">)</span><span class="op">)</span>, data<span class="op">=</span><span class="va">pseudo_vf</span>, family<span class="op">=</span><span class="fu"><a href="../reference/birdie-family.html">cat_mixed</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Using default prior for Pr(Y | R):</span></span>
<span><span class="co">#&gt; → Prior scale on intercepts: 2.0</span></span>
<span><span class="co">#&gt; → Prior scale on fixed effects coefficients: 0.2</span></span>
<span><span class="co">#&gt; → Prior mean of random effects standard deviation: 0.05</span></span>
<span><span class="co">#&gt; ⠙ EM iterations 31 done (14/s) | 2.3s</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ⠙ EM iterations 52 done (19/s) | 2.7s</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #555555;">This message is displayed once every 8 hours.</span></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span>
<span><span class="co">#&gt; Categorical mixed-effects <span style="color: #0000BB;">BIRDiE</span> model</span></span>
<span><span class="co">#&gt; Formula: turnout ~ (1 | proc_zip(zip))</span></span>
<span><span class="co">#&gt;    Data: pseudo_vf</span></span>
<span><span class="co">#&gt; Number of obs: 5,000</span></span>
<span><span class="co">#&gt; Estimated distribution:</span></span>
<span><span class="co">#&gt;     white black  hisp asian  aian other</span></span>
<span><span class="co">#&gt; no  0.293  0.36 0.414 0.594 0.804 0.544</span></span>
<span><span class="co">#&gt; yes 0.707  0.64 0.586 0.406 0.196 0.456</span></span></code></pre></div>
<div class="section level3">
<h3 id="types-of-birdie-models">Types of BIRDiE Models<a class="anchor" aria-label="anchor" href="#types-of-birdie-models"></a>
</h3>
<p>The BIRDiE model we just fit is a <em>mixed-effects</em> model. It
estimates a different relationship between turnout and race in every
ZIP, but partially pools these estimates towards a common global
estimate of the turnout-race relationship. <strong>BIRDiE supports three
other general types of models as well</strong>: the complete-pooling and
no-pooling categorical regression models, and a Normal linear model
which can be used for continuous outcome variables (when the true
regression function is assumed to be additive and linear in the
covariates). The no-pooling uses a formula like <code>turnout ~ 1</code>
and only estimates a single, global relationship between turnout and
race. The model therefore assumes that turnout has no association with
geography, after controlling for race. The complete-pooling model uses a
formula like <code>turnout ~ proc_zip(zip)</code>. While this model can
be more computationally efficient to fit than the mixed-effects model,
its performance can suffer on smaller datasets like the one used here.
We recommend the mixed-effects model for general use when the outcome
variable is discrete.</p>
</div>
<div class="section level3">
<h3 id="extracting-population-and-small-area-estimates">Extracting population and small-area estimates<a class="anchor" aria-label="anchor" href="#extracting-population-and-small-area-estimates"></a>
</h3>
<p>The <code><a href="../reference/birdie.html">birdie()</a></code> function returns an object of class
<code>birdie</code>, which supports many additional functions. You can
quickly extract the population turnout-race estimates using
<code><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef()</a></code> or <code><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy()</a></code>. The former produces a
matrix, while the latter returns a tidy data frame that may be useful in
plotting or in downstream analyses.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 × 3</span></span></span>
<span><span class="co">#&gt;    turnout race  estimate</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> no      white    0.293</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> yes     white    0.707</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> no      black    0.360</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> yes     black    0.640</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> no      hisp     0.414</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> yes     hisp     0.586</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> no      asian    0.594</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> yes     asian    0.406</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> no      aian     0.804</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> yes     aian     0.196</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> no      other    0.544</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> yes     other    0.456</span></span></code></pre></div>
<p>These estimates are quite close to the true distribution of turnout
and race for most racial groups:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span>
<span><span class="co">#&gt;         white     black      hisp     asian      aian     other</span></span>
<span><span class="co">#&gt; no  0.2932592 0.3603672 0.4142505 0.5943262 0.8041177 0.5439143</span></span>
<span><span class="co">#&gt; yes 0.7067408 0.6396328 0.5857495 0.4056738 0.1958823 0.4560857</span></span>
<span><span class="va">p_xr</span> <span class="co"># Actual</span></span>
<span><span class="co">#&gt;      </span></span>
<span><span class="co">#&gt;           white     black      hisp     asian      aian     other</span></span>
<span><span class="co">#&gt;   no  0.3014767 0.3570741 0.4142012 0.4385965 0.6666667 0.5894737</span></span>
<span><span class="co">#&gt;   yes 0.6985233 0.6429259 0.5857988 0.5614035 0.3333333 0.4105263</span></span></code></pre></div>
<p>The estimates suffer here for the smaller racial groups, which each
comprise roughly 1-2% of the sample</p>
<p>You can also extract estimates by geography (and other covariates, if
they are present in the model formula) by passing
<code>subgroup=TRUE</code> to either <code><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef()</a></code> or
<code><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy()</a></code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="va">fit</span>, subgroup<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">#&gt;   zip   turnout estimate</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 28748 no         0.264</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 28748 yes        0.736</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 28748 no         0.601</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 28748 yes        0.399</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 28748 no         0.226</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 28748 yes        0.774</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="generating-improved-individual-bisg-probabilities">Generating improved individual BISG probabilities<a class="anchor" aria-label="anchor" href="#generating-improved-individual-bisg-probabilities"></a>
</h3>
<p>In addition to producing estimates for the whole sample and specific
subgroups, BIRDiE yields improved individual race probabilities. The
“input” BISG probabilities are for race given surname and location. The
“output” probabilities from BIRDiE are for race given surname, location,
and also turnout. When the outcome variable is strongly associated with
race, these BIRDiE-improved probabilities can be significantly more
accurate than the standard BISG probabilities.</p>
<p>Accessing these improved probabilities is simple with the
<code><a href="https://rdrr.io/r/stats/fitted.values.html" class="external-link">fitted()</a></code> function.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/fitted.values.html" class="external-link">fitted</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 6</span></span></span>
<span><span class="co">#&gt;   pr_white pr_black pr_hisp  pr_asian  pr_aian pr_other</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>  0.987    0.002<span style="text-decoration: underline;">85</span> 0.002<span style="text-decoration: underline;">15</span> 0.000<span style="text-decoration: underline;">079</span>3 0.002<span style="text-decoration: underline;">34</span>   0.005<span style="text-decoration: underline;">98</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>  0.002<span style="text-decoration: underline;">52</span>  0.988   0.001<span style="text-decoration: underline;">00</span> 0.000<span style="text-decoration: underline;">161</span>  0.001<span style="text-decoration: underline;">46</span>   0.006<span style="text-decoration: underline;">76</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>  0.978    0.010<span style="text-decoration: underline;">6</span>  0.002<span style="text-decoration: underline;">37</span> 0.000<span style="text-decoration: underline;">227</span>  0.000<span style="text-decoration: underline;">155</span>  0.008<span style="text-decoration: underline;">68</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>  0.529    0.460   0.001<span style="text-decoration: underline;">11</span> 0.000<span style="text-decoration: underline;">109</span>  0.000<span style="text-decoration: underline;">270</span>  0.009<span style="text-decoration: underline;">16</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>  0.979    0.003<span style="text-decoration: underline;">71</span> 0.002<span style="text-decoration: underline;">17</span> 0.000<span style="text-decoration: underline;">715</span>  0.005<span style="text-decoration: underline;">97</span>   0.008<span style="text-decoration: underline;">92</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>  0.571    0.389   0.018<span style="text-decoration: underline;">9</span>  0.000<span style="text-decoration: underline;">674</span>  0.000<span style="text-decoration: underline;">542</span>  0.020<span style="text-decoration: underline;">1</span></span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">r_probs</span><span class="op">$</span><span class="va">pr_white</span>, <span class="fu"><a href="https://rdrr.io/r/stats/fitted.values.html" class="external-link">fitted</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span><span class="op">$</span><span class="va">pr_white</span>, cex<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<p><img src="birdie_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="multiple-imputation-from-a-birdie-model">Multiple Imputation from a BIRDiE Model<a class="anchor" aria-label="anchor" href="#multiple-imputation-from-a-birdie-model"></a>
</h3>
<p>By simulating from the improved BISG probabilities, multiple
imputations of the missing race assignments can be generated. Each
imputation can be fed through a downstream analysis, and the results
combined by mixing posterior draws or via Rubin’s rules.</p>
<p>For example, suppose we want to estimate the overall turnout rate for
Black and Hispanic voters combined. One way to do that would be as
follows.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">race_lbl</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">pseudo_vf</span><span class="op">$</span><span class="va">race</span><span class="op">)</span></span>
<span><span class="va">calc_bh_turn</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">race_imp</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">is_bh</span> <span class="op">=</span> <span class="va">race_lbl</span><span class="op">[</span><span class="va">race_imp</span><span class="op">]</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"hisp"</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="op">(</span><span class="va">pseudo_vf</span><span class="op">$</span><span class="va">turnout</span> <span class="op">==</span> <span class="st">"yes"</span><span class="op">)</span><span class="op">[</span><span class="va">is_bh</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">est_birdie</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/simulate.html" class="external-link">simulate</a></span><span class="op">(</span><span class="va">fit</span>, <span class="fl">200</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="co"># 200 imputations stored as an integer matrix</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="fl">2</span>, <span class="va">calc_bh_turn</span><span class="op">)</span> <span class="co"># calculate turnout for each imputation</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">est_birdie</span><span class="op">)</span></span></code></pre></div>
<p><img src="birdie_files/figure-html/unnamed-chunk-13-1.png" width="700"></p>
<p>We can compare the results with doing the same imputation procedure
from the raw BISG probabilities. The BIRDiE imputations are much closer
to the true value.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">est_bisg</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/simulate.html" class="external-link">simulate</a></span><span class="op">(</span><span class="va">r_probs</span>, <span class="fl">200</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="co"># simulate() works on BISG objects too</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="fl">2</span>, <span class="va">calc_bh_turn</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>    actual <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">pseudo_vf</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="op">(</span><span class="va">turnout</span> <span class="op">==</span> <span class="st">"yes"</span><span class="op">)</span><span class="op">[</span><span class="va">race</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"hisp"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    est_birdie <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">est_birdie</span><span class="op">)</span>,</span>
<span>    est_bisg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">est_bisg</span><span class="op">)</span>,</span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 3</span></span></span>
<span><span class="co">#&gt;   actual est_birdie est_bisg</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>  0.635      0.634    0.660</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="generating-standard-errors">Generating standard errors<a class="anchor" aria-label="anchor" href="#generating-standard-errors"></a>
</h3>
<p>One drawback of the computationally efficient EM algorithm that
<code><a href="../reference/birdie.html">birdie()</a></code> uses for model fitting is the lack of uncertainty
quantification. There are two approaches to generating standard errors
for BIRDiE models, bootstrapping and Gibbs sampling, which are discussed
below. However, for most datasets, <strong>non-sampling error in Census
data and violations of model assumptions will cause much more bias than
sampling variance</strong>.</p>
<p>Gibbs sampling is preferred as it produces posterior draws from the
full Bayesian model, but is not available for the mixed-effects model.
Calling <code><a href="https://rdrr.io/r/stats/simulate.html" class="external-link">simulate()</a></code> to generate multiple imputations after
Gibbs sampling will produce imputations that account for uncertainty in
the model parameters, not just the missing data. To use the Gibbs
sampler for inference, provide <code>algorithm="gibbs"</code> to
<code><a href="../reference/birdie.html">birdie()</a></code>. The <code>iter</code> parameter controls the
number of bootstrap replicates. Posterior variance estimates are
accessible with <code>$se</code> or using the <code><a href="https://rdrr.io/r/stats/vcov.html" class="external-link">vcov()</a></code>
generic, and will be plotted with <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>. The multiple
imputation approach discussed above can also be used to understand
uncertainty in other quantities of interest.</p>
<p>To bootstrap, simply set <code>algorithm="em_boot"</code> in
<code><a href="../reference/birdie.html">birdie()</a></code>. Bootstrapping is also not yet available for the
mixed-effects model. The <code>iter</code> parameter controls the number
of bootstrap replicates. The standard errors are accessible with
<code>$se</code> or using the <code><a href="https://rdrr.io/r/stats/vcov.html" class="external-link">vcov()</a></code> generic, and will be
plotted with <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit_boot</span> <span class="op">=</span> <span class="fu"><a href="../reference/birdie.html">birdie</a></span><span class="op">(</span><span class="va">r_probs</span>, <span class="va">turnout</span> <span class="op">~</span> <span class="fl">1</span>, data<span class="op">=</span><span class="va">pseudo_vf</span>, algorithm<span class="op">=</span><span class="st">"em_boot"</span>, iter<span class="op">=</span><span class="fl">200</span><span class="op">)</span></span>
<span><span class="co">#&gt; Using weakly informative empirical Bayes prior for Pr(Y | R)</span></span>
<span><span class="co">#&gt; <span style="color: #555555;">This message is displayed once every 8 hours.</span></span></span>
<span></span>
<span><span class="va">fit_boot</span><span class="op">$</span><span class="va">se</span></span>
<span><span class="co">#&gt;           white    black       hisp      asian       aian       other</span></span>
<span><span class="co">#&gt; no  0.007539209 0.010555 0.03128419 0.05620707 0.04411482 0.008390007</span></span>
<span><span class="co">#&gt; yes 0.007539209 0.010555 0.03128419 0.05620707 0.04411482 0.008390007</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Cory McCartan.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
